# 牧马单车网站动态内容管理功能

## 一、分类管理功能

### 功能描述
管理员可以通过分类管理页面控制哪些分类显示在网站首页。每个分类都有一个"显示在主页"的开关，管理员可以随时切换分类的显示状态。

### 技术实现
1. **数据模型扩展**：
   - 在`Category`接口中添加了`showOnHomepage`字段
   - 默认为顶级分类设置`showOnHomepage: true`

2. **状态管理**：
   - 使用React Context API创建了`CategoryContext`
   - 实现了数据持久化（localStorage存储）
   - 提供了`toggleHomepageVisibility`方法控制显示状态

3. **用户界面**：
   - 在分类管理列表中添加了切换开关
   - 支持通过树形视图或列表视图管理分类
   - 添加了筛选功能，方便管理大量分类

4. **主页集成**：
   - 主页分类展示区域根据`showOnHomepage`属性过滤分类
   - 实时响应管理界面的修改

### 使用方式
1. 管理员登录后，进入"分类管理"页面
2. 在列表或树形视图中，每个分类右侧有显示开关
3. 点击开关可以启用/禁用该分类在主页的显示
4. 所有更改实时生效，即时反映在网站首页

## 二、特色商品管理功能

### 功能描述
管理员可以通过库存管理页面将任何产品标记为"特色商品"。这些特色商品将在网站首页的"特色商品"区域中展示，以提高它们的曝光率。

### 技术实现
1. **数据模型使用**：
   - 利用现有`Product`接口中的`isFeatured`字段
   - 扩展了处理逻辑，实现动态控制

2. **状态管理**：
   - 创建了`ProductContext`进行产品数据管理
   - 实现了`toggleFeatured`方法用于切换特色状态
   - 提供了`getFeaturedProducts`方法获取所有特色商品

3. **用户界面**：
   - 在库存管理列表中添加了"特色"列
   - 使用星形图标表示特色状态，可以点击切换
   - 添加了"仅显示特色商品"筛选选项

4. **主页集成**：
   - 特色商品区域使用`getFeaturedProducts`获取要显示的商品
   - 实时响应管理界面的修改

### 使用方式
1. 管理员登录后，进入"库存管理"页面
2. 在产品列表中，每个产品有一个"特色"列
3. 点击星形图标可以将商品设为特色商品或取消特色状态
4. 所有更改实时生效，即时反映在网站首页的特色商品区域

## 总结

这两个功能极大地增强了网站的可管理性，让管理员能够：

1. **灵活控制首页内容**：根据营销需求动态调整首页展示的分类和特色商品
2. **提高特定商品曝光率**：通过特色功能突出显示促销或热门商品
3. **优化用户体验**：确保首页只展示最相关、最活跃的分类和商品

这些功能通过React Context API实现，确保了数据在整个应用中的一致性，并通过localStorage进行持久化存储，即使在刷新页面后也能保持状态。 